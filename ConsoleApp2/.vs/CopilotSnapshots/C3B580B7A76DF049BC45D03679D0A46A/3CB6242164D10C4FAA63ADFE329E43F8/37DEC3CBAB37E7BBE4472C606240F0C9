using ConsoleApp2.Interfaces;
using ConsoleApp2.Models;
using ConsoleApp2.Services;
using ConsoleApp2.Transactions;



Card card1 = new Card
{
    Id = 1,
    CardNumber = 1234567812345678,
    Balance = 1000,
    Bonus = 50
};
Card card2 = new Card
{
    Id = 2,
    CardNumber = 8765432187654321,
    Balance = 2000,
    Bonus = 100
};
Card card3 = new Card
{
    Id = 3,
    CardNumber = 1122334455667788,
    Balance = 3000,
    Bonus = 150
};
List<Card> cards = new List<Card> { card1, card2, card3 };
ITransactionService transactionService = new TransactionService();

// Convert long card numbers to int by taking a hash or using modulo
// This is a workaround since Transaction.CardNumber is int but Card.CardNumber is long
transactionService.AddTransaction(new Transaction
{
    Id = 1,
    CardNumber = (int)(1234567812345678 % int.MaxValue), // Convert long to int safely
    Amount = 100,
    Date = new DateTime(2023, 1, 15)
});
transactionService.AddTransaction(new Transaction
{
    Id = 2,
    CardNumber = (int)(8765432187654321 % int.MaxValue), // Convert long to int safely
    Amount = 200,
    Date = new DateTime(2023, 2, 20)
});
transactionService.AddTransaction(new Transaction
{
    Id = 3,
    CardNumber = (int)(1234567812345678 % int.MaxValue), // Convert long to int safely
    Amount = 150,
    Date = new DateTime(2023, 3, 25)
});
transactionService.AddTransaction(new Transaction
{
    Id = 4,
    CardNumber = (int)(1122334455667788 % int.MaxValue), // Convert long to int safely
    Amount = 300,
    Date = new DateTime(2023, 4, 10)
});

// Display all transactions
Console.WriteLine("All transactions:");
var allTransactions = transactionService.GetAll();
foreach (var transaction in allTransactions)
{
    Console.WriteLine(transaction.ToString());
}
